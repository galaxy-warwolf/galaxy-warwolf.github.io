webpackJsonp([2],{105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AUTH="GALAXY/AUTH/LOGIN",t.AUTH_SUCCESS="GALAXY/AUTH/LOGIN_SUCCESS",t.AUTH_FAIL="GALAXY/AUTH/LOGIN_FAIL",t.LOGOUT_SUCCESS="DR/AUTH/LOGOUT_SUCCESS"},167:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var u=a(0),r=n(u),l=a(15),o=a(181),d=n(o);a(471);var f=a(472),s=n(f),c=(0,s.default)();(0,l.render)(r.default.createElement(d.default,{store:c}),document.querySelector("#app"))},181:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(46),r=n(u),l=a(2),o=n(l),d=a(3),f=n(d),s=a(4),c=n(s),i=a(5),p=n(i),m=a(0),h=n(m),y=a(75),v=n(y),_=a(76),g=a(79),E=a(82),k=a(35),b=a(264),S=n(b),M=a(403),C=n(M),x=a(404),A=n(x),U=a(470),T=n(U),O=function(e){function t(e){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.logined=!0,a}return(0,p.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=(0,g.createHashHistory)(),n=function(e){return h.default.createElement(A.default,null,h.default.createElement(_.Switch,null,h.default.createElement(_.Route,{path:"/chart",component:r}),h.default.createElement(_.Route,{path:"/dashboard",component:u}),h.default.createElement(_.Route,{exact:!0,path:"/",render:function(){return h.default.createElement(_.Redirect,{to:"/dashboard"})}}),h.default.createElement(_.Route,{component:C.default})))},u=(0,T.default)({loader:function(){return a.e(0).then(a.bind(null,497))},loading:function(){return h.default.createElement("div",null,"Loading...")}}),r=(0,T.default)({loader:function(){return a.e(1).then(a.bind(null,498))},loading:function(){return h.default.createElement("div",null,"Loading...")}});return h.default.createElement(E.Provider,this.props,h.default.createElement(k.ConnectedRouter,{history:t},h.default.createElement("div",null,h.default.createElement(_.Switch,null,h.default.createElement(_.Route,{path:"/login",component:S.default}),h.default.createElement(_.Route,{path:"/",render:function(){return e.logined?h.default.createElement(n,null):h.default.createElement(_.Redirect,{to:"/login"})}})))))}}]),t}(m.Component);t.default=O,O.propTypes={store:v.default.object.isRequired},e.exports=t.default},264:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u,r,l,o=a(265),d=n(o),f=a(274),s=n(f),c=a(290),i=n(c),p=a(43),m=n(p),h=a(294),y=n(h),v=a(297),_=n(v),g=a(46),E=n(g),k=a(2),b=n(k),S=a(3),M=n(S),C=a(4),x=n(C),A=a(5),U=n(A),T=a(308),O=n(T);a(389),a(391),a(393),a(155),a(395);var P=a(0),w=n(P),R=a(35),N=a(82),H=a(399),I=n(H),L=a(400);a(402);var j=O.default.Item,G=(u=(0,N.connect)(function(e){return{}},{push:R.push}),r=(0,L.decorate)(I.default),u(l=r(l=function(e){function t(){var e,a,n,u,r=this;(0,b.default)(this,t);for(var l=arguments.length,o=Array(l),d=0;d<l;d++)o[d]=arguments[d];return a=n=(0,x.default)(this,(e=t.__proto__||(0,E.default)(t)).call.apply(e,[this].concat(o))),n.handleSubmit=function(){var e=(0,_.default)(y.default.mark(function e(t){var a;return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.login();case 3:a=e.sent,n.props.form.validateFields(function(e,t){e||n.props.push("/")});case 6:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),u=a,(0,x.default)(n,u)}return(0,U.default)(t,e),(0,M.default)(t,[{key:"login",value:function(){function e(){return t.apply(this,arguments)}var t=(0,_.default)(y.default.mark(function e(){return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sleep(3e3);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return w.default.createElement("div",{className:"login-container"},w.default.createElement(O.default,{onSubmit:this.handleSubmit,className:"login-form"},w.default.createElement("h2",{className:"login-header"},"Galaxy Admin System"),w.default.createElement(j,{hasFeedback:!0},e("userName",{rules:[{required:!0,message:"Please input your username!"}]})(w.default.createElement(i.default,{prefix:w.default.createElement(m.default,{type:"user",style:{fontSize:13}}),placeholder:"Username"}))),w.default.createElement(j,{hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(w.default.createElement(i.default,{prefix:w.default.createElement(m.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),w.default.createElement(j,null,e("remember",{valuePropName:"checked",initialValue:!0})(w.default.createElement(s.default,null,"Remember me")),w.default.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),w.default.createElement(d.default,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))}}]),t}(P.PureComponent))||l)||l),F=O.default.create()(G);t.default=F,e.exports=t.default},399:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(89),u=function(e){return e&&e.__esModule?e:{default:e}}(n),r=function(e){return new u.default(function(t,a){setTimeout(function(){t()},e)})};t.default={sleep:r},e.exports=t.default},402:function(e,t){},403:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(46),r=n(u),l=a(2),o=n(l),d=a(3),f=n(d),s=a(4),c=n(s),i=a(5),p=n(i),m=a(0),h=n(m),y=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return h.default.createElement("div",null,"404")}}]),t}(m.PureComponent);t.default=y,e.exports=t.default},404:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,r,l=a(43),o=n(l),d=a(46),f=n(d),s=a(2),c=n(s),i=a(3),p=n(i),m=a(4),h=n(m),y=a(5),v=n(y),_=a(405),g=n(_),E=a(459),k=n(E);a(155),a(462),a(466);var b=a(0),S=n(b),M=a(35),C=a(82),x=a(104),A=n(x),U=a(468),T=n(U),O=a(469),P=k.default.Header,w=k.default.Content,R=k.default.Footer,N=k.default.Sider,H=g.default.SubMenu,I=(u=(0,C.connect)(function(e){return{routing:e.routing}},{push:M.push,logout:O.logout}))(r=function(e){function t(){var e,a,n,u;(0,c.default)(this,t);for(var r=arguments.length,l=Array(r),o=0;o<r;o++)l[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(l))),n.state={collapsed:!1,selectedKeys:[],openKeys:[]},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.linkTo=function(e){var t=n.props.routing.location.pathname,a=e.keyPath,u=A.default.join(A.default.reverse(a),"");t!==u&&n.props.push(u)},n.openSubMenu=function(e){var t=n.state.openKeys,a=e.key;t.indexOf(a)>-1?A.default.remove(t,function(e){return e===a}):t.push(a),n.setState({openKeys:t})},n.handleClickMenu=function(e){"logout"===e.key&&n.props.logout()},u=a,(0,h.default)(n,u)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.routing.location.pathname,a=e.routing.location;a&&t!==a.pathname&&this.openRelatedMenuByPathName(a.pathname)}},{key:"componentDidMount",value:function(){var e=this.props.routing.location.pathname;this.openRelatedMenuByPathName(e)}},{key:"openRelatedMenuByPathName",value:function(e){if(e){var t=e.split("/");A.default.remove(t,function(e){return!e});var a=void 0,n=void 0;0===t.length?a="/dashboard":1===t.length?a="/"+t[0]:2===t.length&&(n="/"+t[0],a="/"+t[1]);var u={selectedKeys:[a]};n&&(u.openKeys=[n]),this.setState(u)}}},{key:"render",value:function(){var e=this.state,t=e.selectedKeys,a=e.collapsed,n=e.openKeys;return S.default.createElement(k.default,null,S.default.createElement(N,{trigger:null,collapsible:!0,collapsed:a,style:{height:"100vh"}},S.default.createElement("div",{className:T.default.logo}),S.default.createElement(g.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["/dashboard"],selectedKeys:t,openKeys:n,onClick:this.linkTo},S.default.createElement(g.default.Item,{key:"/dashboard"},S.default.createElement(o.default,{type:"appstore-o"}),S.default.createElement("span",{className:"nav-text"},"首页")),S.default.createElement(g.default.Item,{key:"/chart"},S.default.createElement(o.default,{type:"bar-chart"}),S.default.createElement("span",{className:"nav-text"},"图表")),S.default.createElement(H,{key:"/more",title:S.default.createElement("span",null,S.default.createElement(o.default,{type:"user"}),S.default.createElement("span",null,"More")),onTitleClick:this.openSubMenu},S.default.createElement(g.default.Item,{key:"/9"},"Tom"),S.default.createElement(g.default.Item,{key:"/10"},"Bill"),S.default.createElement(g.default.Item,{key:"/11"},"Alex")))),S.default.createElement(k.default,null,S.default.createElement(P,{style:{background:"#fff",padding:0}},S.default.createElement(o.default,{className:T.default.trigger,type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),S.default.createElement("div",{className:T.default.header_func},S.default.createElement(g.default,{mode:"horizontal",onClick:this.handleClickMenu},S.default.createElement(H,{className:T.default.header_menu,title:S.default.createElement("span",null,S.default.createElement(o.default,{type:"user"}),name)},S.default.createElement(g.default.Item,{key:"logout"},"登出"))))),S.default.createElement(w,{style:{margin:"24px 16px 0",overflow:"initial"}},S.default.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},this.props.children)),S.default.createElement(R,{style:{textAlign:"center"}},"Galaxy Admin Client ©2017 Created by Galaxy")))}}]),t}(b.Component))||r;t.default=I,e.exports=t.default},468:function(e,t){e.exports={trigger:"_1h82B6vsI3aIrnGnuWihRr",logo:"_3fZCFH3CrTUU-4tcKgLJMn",header_func:"_1fQRTU4G15_O2wfjDzwfNO",header_menu:"_1mZdTQnS61JI1tlq_FIwZ1"}},469:function(e,t,a){"use strict";function n(e,t){return{types:[l.AUTH,l.AUTH_SUCCESS,l.AUTH_FAIL],promise:function(a){return a.post("<%= API_URL %>/api/auth",{data:e},t)},data:e}}function u(e){return{type:l.AUTH_SUCCESS,data:e}}function r(){return function(e){e({type:l.LOGOUT_SUCCESS}),e((0,o.push)("/login"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.auth=n,t.login=u,t.logout=r;var l=a(105),o=a(35)},471:function(e,t){},472:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null;n=a(473),t.default=n,e.exports=t.default},473:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(84),r=a(474),l=n(r),o=a(476),d=n(o),f=a(79),s=a(35),c=a(477),i=n(c),p=a(485),m=n(p),h=a(492),y=n(h),v=new m.default,_=(0,i.default)(v),g=(0,f.createHashHistory)(),E=(0,s.routerMiddleware)(g),k=(0,u.compose)((0,y.default)(["auth","user"]),(0,u.applyMiddleware)(d.default,_,E))(u.createStore);t.default=function(e){return k(l.default,e)},e.exports=t.default},474:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(84),u=a(35),r=a(105),l=a(475),o=function(e){return e&&e.__esModule?e:{default:e}}(l),d=(0,n.combineReducers)({routing:u.routerReducer,auth:o.default}),f=function(e,t){return t.type===r.LOGOUT_SUCCESS&&(e=void 0),d(e,t)};t.default=f,e.exports=t.default},475:function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.AUTH:return e;case l.AUTH_SUCCESS:return(0,r.default)({},e,t.result);case l.AUTH_FAIL:default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=n;var l=a(105),o={name:""};e.exports=t.default},477:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(t){var a=t.dispatch,n=t.getState;return function(t){return function(u){if("function"==typeof u)return u(a,n);var r=u.promise,o=u.types,f=(0,s.default)(u,["promise","types"]);if(!r)return t(u);var c=(0,d.default)(o,3),p=c[0],m=c[1],h=c[2];t((0,l.default)({},f,{type:p})),i.default.has(n(),["auth","token"])&&e.setToken(n().auth.token);var y=r(e);return y.then(function(e){t((0,l.default)({},f,{result:e,type:m}))},function(e){t((0,l.default)({},f,{error:e,type:h}))}).catch(function(e){t((0,l.default)({},f,{error:e,type:h}))}),y}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),l=n(r),o=a(478),d=n(o),f=a(44),s=n(f);t.default=u;var c=a(104),i=n(c);e.exports=t.default},485:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return m.default.template(e)({API_URL:"http://0.0.0.0:3000"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(89),l=n(r),o=a(2),d=n(o),f=a(3),s=n(f),c=a(486),i=n(c),p=a(104),m=n(p),h=["get","post","put","patch","del"],y=function(){function e(t){var a=this;(0,d.default)(this,e),this.client="galaxy",h.forEach(function(e){return a[e]=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.params,o=n.data,d=n.file,f=n.type;return new l.default(function(n,l){var s=i.default[e](u(t));a.method=e,r&&s.query(r),a.token&&s.set("Authorization","bearer "+a.token),a.client&&s.set("Client",a.client),o&&(s.set("Content-Type","application/json"),s.send(o)),d&&s.attach("file",d),f&&s.responseType(f),s.end(function(e,t){if(e){var u=a.doErrorResponse(t);l(u)}else"arraybuffer"===f&&n(t.xhr),n(t.body?t.body:t.text);t&&401===t.status&&(window.location.href="#/login",window.localStorage.clear())})})}})}return(0,s.default)(e,[{key:"setToken",value:function(e){this.token=e}},{key:"getMethod",value:function(){return this.method}},{key:"doErrorResponse",value:function(e){var t={};if(e.status)switch(e.status){case 400:try{t=this.formatError(e,t)}catch(e){t.message="非法请求"}break;case 403:try{t=this.formatError(e,t)}catch(e){t.message="没有权限"}break;case 401:try{t=this.formatError(e,t)}catch(e){t.message="权限验证错误"}break;case 413:try{t=this.formatError(e,t)}catch(e){t.message="请求数据过大"}break;case 422:var a=JSON.parse(e.text).errors;t.message=a[0].message,a[0].code&&(t.code=a[0].code);break;case 500:t.message="未知错误";break;case 503:t.message="服务器正在维护";break;default:try{t=this.formatError(e,t)}catch(e){t.message="未知错误"}}else t.message=e;return t}},{key:"formatError",value:function(e,t){var a=JSON.parse(e.text);return t.message=a.message,a.code&&(t.code=a.code),t}}]),(0,s.default)(e,[{key:"empty",value:function(){}}]),e}();t.default=y,e.exports=t.default}},[167]);